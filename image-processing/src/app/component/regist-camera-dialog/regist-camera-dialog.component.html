<mat-h1 mat-dialog-title>カメラ登録</mat-h1>
<mat-dialog-content>
    <!-- 未登録カメラ一覧 -->
    <mat-label>未登録カメラ一覧</mat-label>
    <div class="mat-elevation-z8 tableStyle">
        <table mat-table [dataSource]="data.websocket.connectedCameraDataSource" class="mat-table">
            <ng-container matColumnDef="hostname">
                <th mat-header-cell *matHeaderCellDef>ホスト名</th>
                <td mat-cell *matCellDef="let element">{{element.hostname}}</td>
            </ng-container>
            <ng-container matColumnDef="ipAddress">
                <th mat-header-cell *matHeaderCellDef>IPアドレス</th>
                <td mat-cell *matCellDef="let element">{{element.ipAddress}}</td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr 
                mat-row
                (click)="onClickRow(row)" 
                [class.row-is-clicked]="clickRowData == row"
                *matRowDef="let row; columns: displayedColumns;">
            </tr>
        </table>
        <mat-paginator #websocket.connectedCameraPaginator [pageSizeOptions]="[3, 6, 9]" showFirstLastButtons>
        </mat-paginator>
    </div>
    <!-- 入力フォーム -->
    <mat-form-field >
        <mat-label>カメラ名称</mat-label>
        <input matInput
               [formControl]="nameTextbox" 
               maxlength="20"
               (blur)="updateErrorMessage()"
               required
               >
        @if (name) {
            <button matSuffix mat-icon-button aria-label="Clear" (click)="name=''">
              <mat-icon>close</mat-icon>
            </button>
        }
        @if (nameTextbox.invalid){
            <mat-error>{{errorMessage}}</mat-error>
        }
        <mat-hint align="end">{{name.length}} / 20</mat-hint>
    </mat-form-field>
    <div>
        <mat-slide-toggle class="maskingSlideToggleStyle" [(ngModel)]="isMasking"[disabled]="isFormDisabled || data.websocket.dialogRef">マスキング</mat-slide-toggle>
    </div>
    
</mat-dialog-content>
<mat-dialog-actions>
    <div class="bottonContent">
        <button mat-raised-button color="primary" (click)="onRegist()"[disabled]="isButtonDisabled || data.websocket.dialogRef">登録</button>
        <button mat-stroked-button color="accent" (click)="onClose()">キャンセル</button>
    </div>
</mat-dialog-actions>